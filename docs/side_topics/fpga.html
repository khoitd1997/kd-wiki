<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>FPGA - kd-wiki</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../frequent_websites.html"><strong aria-hidden="true">2.</strong> Frequent Websites</a></li><li class="chapter-item expanded "><a href="../special_topics/special_topics.html"><strong aria-hidden="true">3.</strong> Special Topics</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../special_topics/embedded_systems.html"><strong aria-hidden="true">3.1.</strong> Embedded Systems</a></li><li class="chapter-item expanded "><a href="../special_topics/ble.html"><strong aria-hidden="true">3.2.</strong> BLE</a></li><li class="chapter-item expanded "><a href="../special_topics/cpp.html"><strong aria-hidden="true">3.3.</strong> C++</a></li><li class="chapter-item expanded "><a href="../special_topics/software_architecture.html"><strong aria-hidden="true">3.4.</strong> Software Architecture</a></li></ol></li><li class="chapter-item expanded "><a href="../side_topics/index.html"><strong aria-hidden="true">4.</strong> Side Topics</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../side_topics/fpga.html" class="active"><strong aria-hidden="true">4.1.</strong> FPGA</a></li><li class="chapter-item expanded "><a href="../side_topics/uml.html"><strong aria-hidden="true">4.2.</strong> UML</a></li><li class="chapter-item expanded "><a href="../side_topics/pcb_mechanical_design.html"><strong aria-hidden="true">4.3.</strong> PCB and Mechanical Design</a></li><li class="chapter-item expanded "><a href="../side_topics/virtualization.html"><strong aria-hidden="true">4.4.</strong> Virtualization</a></li><li class="chapter-item expanded "><a href="../side_topics/server_firmware.html"><strong aria-hidden="true">4.5.</strong> Server Firmware</a></li><li class="chapter-item expanded "><a href="../side_topics/gpu_programming.html"><strong aria-hidden="true">4.6.</strong> GPU Programming</a></li></ol></li><li class="chapter-item expanded "><a href="../unexplored_things/index.html"><strong aria-hidden="true">5.</strong> Unexplored Things</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../unexplored_things/embedded_systems.html"><strong aria-hidden="true">5.1.</strong> Embedded Systems</a></li><li class="chapter-item expanded "><a href="../unexplored_things/uncategorized.html"><strong aria-hidden="true">5.2.</strong> Uncategorized</a></li></ol></li><li class="chapter-item expanded "><a href="../things_to_check_back.html"><strong aria-hidden="true">6.</strong> Things To Check Back Later</a></li><li class="chapter-item expanded "><a href="../ideas/index.html"><strong aria-hidden="true">7.</strong> Ideas</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ideas/viable_ideas.html"><strong aria-hidden="true">7.1.</strong> Viable Ideas</a></li><li class="chapter-item expanded "><a href="../ideas/nonviable_ideas.html"><strong aria-hidden="true">7.2.</strong> Nonviable Ideas</a></li></ol></li><li class="chapter-item expanded "><a href="../good_open_source_contrib.html"><strong aria-hidden="true">8.</strong> Open Source Contribution Notes</a></li><li class="chapter-item expanded "><a href="../common_coding_decisions/index.html"><strong aria-hidden="true">9.</strong> Common Coding Decisions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../common_coding_decisions/all_language.html"><strong aria-hidden="true">9.1.</strong> All Languages</a></li><li class="chapter-item expanded "><a href="../common_coding_decisions/markdown.html"><strong aria-hidden="true">9.2.</strong> Markdown</a></li><li class="chapter-item expanded "><a href="../common_coding_decisions/cmake.html"><strong aria-hidden="true">9.3.</strong> CMake</a></li><li class="chapter-item expanded "><a href="../common_coding_decisions/cpp.html"><strong aria-hidden="true">9.4.</strong> CPP</a></li><li class="chapter-item expanded "><a href="../common_coding_decisions/python.html"><strong aria-hidden="true">9.5.</strong> Python</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">kd-wiki</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#fpga" id="fpga">FPGA</a></h1>
<h2><a class="header" href="#terms-that-is-forgotten-a-lot" id="terms-that-is-forgotten-a-lot">Terms That Is Forgotten A Lot</a></h2>
<ul>
<li>Combinatorial Logic: Where two or more input defines one output. This can be like addition where c = a + b.</li>
</ul>
<h2><a class="header" href="#fpga-components" id="fpga-components">FPGA Components</a></h2>
<p>FPGAs are made of blocks and connected together by programmable routes.</p>
<ul>
<li>Logic block: Contains logic components like multiplexer(for routing between other components), flip flops(storage based on clock signal), RAM(for look up table, aka truth table).</li>
<li>IO Block: Connect logic blocks with external components. Handle things like like slew rate, active high/low, pull-ups, pull-down, etc.</li>
<li>Interconnect: The programmable routes(in the form of matrix), there are short lines for blocks closed together and long lines for blocks far from each other. There are global clock lines that are connected to the logic block clock lines to distribute clock. They are the FPGA fabric.</li>
</ul>
<p><img src="image/2020-05-07-15-38-26.png" alt="" /></p>
<p>Types of Cores:</p>
<ul>
<li>Soft Cores: Mainly implemented using HDL code.</li>
<li>Hard Cores: Actual physical cores surrounded by programmable logic on the chip.</li>
<li>IP Cores: Soft Cores designed by other people for you to use. These things tend to have been characterized(ie information regarding their speed and power consumption is known)</li>
<li>Specialized Cores like DSP Cores, Processor Cores, Analog Cores</li>
</ul>
<h2><a class="header" href="#how-is-fpga-programmed" id="how-is-fpga-programmed">How Is FPGA Programmed</a></h2>
<p>There are 3 methods for programming FPGA(aka saving whether to have 1 or 0 at a certain transistor using bitstream), they are all storage technology:</p>
<ul>
<li>SRAM: Most common right now but more error prone(due to being volatile) and higher power consumption. Require external device to program the RAM on power-up.</li>
<li>Antifuse: Normally not connect, large current causes connect. Doesn't need external programmers as the design is burned onto the fuse itself, however, the fabrication yield is low.</li>
<li>Flash: Combine advantage of the two above, might be more common in the future.</li>
</ul>
<p>The flow from your code to the bare-metal go like this, note that at each steps, there are a different set of optimization that is performed:</p>
<ul>
<li>HDL goes through synthesis to RTL(which is an abstraction that uses combinatorial data path and register(but in more abstract term like a storage element) to describe the design, very abstract).</li>
<li>RTL goes to gate level(uses actual gates like OR, AND and registers(actual makeup of register using flip-flops and not simply just an abstraction for a storage element)). Note that there are two types of gate levels:
<ul>
<li>Logical Gate Level: Contain theoretical gates like AND, OR, NOT and registers.</li>
<li>Physical Gate Level: Contains only gates that are available on the FPGA.</li>
</ul>
</li>
<li>From the gate level the place-and-route program connects things together on the actual chip. Placing determines where the components(gates should be) and route decide how to connect them.</li>
</ul>
<h2><a class="header" href="#hdl" id="hdl">HDL</a></h2>
<p>SystemVerilog is a superset of Verilog. And like C++ each of them has version labeled by year(like Verilog-2005), it's helpful to know this when seeing synthesizer says which standard do they support.</p>
<p>Note that Verilog can be synthesizable or not, synthesizable means that it can map directly to hardware. The non-synthesizable stuffs are for test benches.</p>
<h2><a class="header" href="#hls" id="hls">HLS</a></h2>
<p>HLS are high level languages like C and C++ and get compiled down to RTL. It is a productivity tools.</p>
<h2><a class="header" href="#resources" id="resources">Resources</a></h2>
<h3><a class="header" href="#general" id="general">General</a></h3>
<ul>
<li><a href="1">Verilator</a>: Open source simulator.</li>
<li><a href="2">Yosys</a>: Open source Verilog Synthesis, actually support Xilinx 7 series chip.</li>
<li><a href="5">Yosys Manual</a>: Contain quite a lot of information about Verilog is Synthesized.</li>
<li><a href="3">Detailed paper about open source Verilog Workflow</a></li>
<li><a href="4">Free VHDL book</a></li>
<li><a href="8">Chisel</a>: Open source HDL language in Scala, that is designed by Berkeley and used by Google TPU. It can actually compile down to Verilog so it should theoretically work with everything but the reality is more complicated than that.</li>
<li><a href="7">Rocket Chip Generator</a>: Tooling for generating a RisC-V SOC.</li>
</ul>
<p>VHDL is apparently way harder to parse than Verilog so that's why open source tooling is focused on Verilog right now, there are efforts to get VHDL working though.</p>
<h3><a class="header" href="#xilinx" id="xilinx">Xilinx</a></h3>
<p><a href="6">Xilinx Vitis</a>: Goes from languages like C++, Python to gate level. This is based on Xilinx SDx which compiles C++ to hardware code.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../side_topics/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../side_topics/uml.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../side_topics/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../side_topics/uml.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
